/* stylelint-disable no-descending-specificity */
@import '@zendesk/garden-css-variables';
@import '_variables';

:root {
  --zd-btn-active-background-color: color(var(--zd-btn-color) blackness(+10%));
  --zd-btn-active-danger-background-color: color(var(--zd-btn-danger-color) blackness(+10%));
  --zd-btn-active-color: var(--zd-color-white);
  --zd-btn-active-transition:
    border-color .1s ease-in-out,
    background-color .1s ease-in-out,
    color .1s ease-in-out;
  --zd-btn-disabled-color: var(--zd-color-white);
  --zd-btn-focused-box-shadow:
    0 0 0 3px
    color(var(--zd-btn-color) alpha(40%));
  --zd-btn-focused-danger-box-shadow:
    0 0 0 3px
    color(var(--zd-btn-danger-color) alpha(40%));
  --zd-btn-hovered-background-color: color(var(--zd-btn-color) lightness(+10%) saturation(+10%));
  --zd-btn-hovered-danger-background-color: color(var(--zd-btn-danger-color) lightness(+10%) saturation(+10%));
  --zd-btn-hovered-color: var(--zd-color-white);
}

/* 1. Anchor tag reset.
 * 2. No `.c-btn:focus` styling, since it prevents mimicking
 *    "focus-on-keyboard; blur-on-mouse" browser behavior.
 * 3. Class-chain specificity hack. */

@custom-selector :--btn-hovered
  .is-hovered.is-hovered,
  :hover:hover;

.c-btn:--btn-hovered {
  border-color: transparent;
  background-color: var(--zd-btn-hovered-background-color);
  text-decoration: none; /* [1] */
  color: var(--zd-btn-hovered-color);
}

.c-btn.c-btn--danger:--btn-hovered {
  background-color: var(--zd-btn-hovered-danger-background-color);
}

.c-btn:focus {
  outline: none;
}

@custom-selector :--btn-focused /* [2] */
  .is-focused;

.c-btn:--btn-focused {
  box-shadow: var(--zd-btn-focused-box-shadow);
}

.c-btn.c-btn--danger:--btn-focused {
  box-shadow: var(--zd-btn-focused-danger-box-shadow);
}

@custom-selector :--btn-active
  .is-active.is-active,
  :active:active;

.c-btn:--btn-active {
  transition: var(--zd-btn-active-transition);
  border-color: transparent;
  background-color: var(--zd-btn-active-background-color);
  text-decoration: none; /* [1] */
  color: var(--zd-btn-active-color);
}

.c-btn.c-btn--danger:--btn-active {
  background-color: var(--zd-btn-active-danger-background-color);
}

/* stylelint-disable selector-max-specificity */
.c-btn:--btn-hovered:--btn-active,
.c-btn:--btn-focused:--btn-active {
  box-shadow: none;
}
/* stylelint-enable selector-max-specificity */

@custom-selector :--btn-disabled /* [3] */
  .is-disabled.is-disabled,
  :disabled:disabled;

.c-btn:--btn-disabled {
  border-color: transparent;
  box-shadow: none;
  background-color: var(--zd-btn-disabled-background-color);
  cursor: default;
  color: var(--zd-btn-disabled-color);
}
/* stylelint-enable no-descending-specificity */
